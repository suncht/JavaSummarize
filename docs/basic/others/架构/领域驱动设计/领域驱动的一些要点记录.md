### 领域驱动模型架构的一些要点记录
DDD实施的难点：
1. 聚合根识别困难
2. 贫血模式
3. 按DDD的理论，聚合根之间不赞成使用数据库事务，成本很高
> 数据一致性和领域事件
> 一个微服务内部的多个聚合根，可以使用数据库事务保证数据一致性，虽然不完美，但还算实用。用领域事件去做最终一致性成本太高。
> 两个上下文之间用MQ做最终一致性


DDD与传统CRUD或过程脚本或者面向数据表等在开发效率上比较
![DDD与传统CRUD或过程脚本或者面向数据表等在开发效率上比较](../images/2019-05-28-10-07-14.png)


DDD落地实现离不开in-memory缓存、 CQRS、 DCI、 EDA或Event Source几大大相关领域。
1. 内存缓存(in-memory cache)
当我们将DDD领域模型加载到内存中以后，我们就不再面向关系数据库中数据表编程，而是真正直接面向模型对象编程。Java内存模型优点：基于内存的并发模型，多线程机制，大量线程安全型库包支持 基于内存的并发机制，粒度灵活控制，灵活度高于数据库锁。 多核并行计算模型 基于线程的异步模型(Domain Events)。